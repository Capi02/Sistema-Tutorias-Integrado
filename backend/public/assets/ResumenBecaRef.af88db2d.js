import{Q as G}from"./QInput.4dc5f0e4.js";import{Q as A}from"./QSpace.02cacd90.js";import{Q as q}from"./QCardSection.dca3ec06.js";import{_ as w,u as M,r as c,o as y,l as S,m as O,n as T,p as _,q as a,d as l,t as I,ar as s,Q as V,at as x,au as J}from"./index.0a4cc95d.js";import{Q as P}from"./QCardActions.ad60c45d.js";import{Q as k}from"./QCard.30b991a5.js";import{Q as F}from"./QForm.2e491152.js";import{Q as U}from"./QPage.6f2780ac.js";import{a as d}from"./axios.7331a07d.js";import"./QLinearProgress.2e1dc632.js";import"./use-key-composition.d5947e72.js";import"./use-dark.73e1a64d.js";import"./uid.42677368.js";import"./focus-manager.02955f48.js";const j={setup(){const i=M(),m=c({nombre:"",matricula:"",curp:"",telefono:"",correoinstitucional:"",beca:"",carrera:"",area:"",grado:"",cuatrimestre:"",grupo:"",correotutor:"",genero:"",studentId:""}),f=c({nombre:"",matricula:"",domicilio:"",telefono:"",celular:"",correoper:"",nacimiento:"",estadocivil:"",genero:"",beca:"",nivelestudios:"",nombreescuela:"",tipoescuela:"",municipio:"",promedio:"",carrera:"",area:"",cuatrisoli:"",grupo:"",promedioult:"",apoyo:"",nombreapoyo:"",cuanto:"",motivo:"",studentId:""}),o=c();y(async()=>{try{const t=sessionStorage.getItem("key");o.value=t}catch(t){console.error("Error al obtener los datos del estudiante:",t)}});const v=c(""),u=c([]),g=c([]),h=c([]),b=c([]),C=c([]),Q=t=>{const n=u.value.find(e=>e.value===t);return n?n.label:""},E=t=>{const n=g.value.find(e=>e.value===t);return n?n.label:""},N=t=>{const n=h.value.find(e=>e.value===t);return n?n.label:""},R=t=>{const n=b.value.find(e=>e.value===t);return n?n.label:""},B=t=>{const n=C.value.find(e=>e.value===t);return n?n.label:""};return y(async()=>{try{const t=await d.get("http://127.0.0.1:3000/api/carrera"),n=t.data;n&&n.length>0&&(u.value=n.map(e=>({label:e.carrera,value:e.idcarrera}))),console.log(t)}catch(t){console.error("Error al obtener la carrera:",t)}try{const t=await d.get("http://127.0.0.1:3000/api/area"),n=t.data;n&&n.length>0&&(g.value=n.map(e=>({label:e.area,value:e.idarea}))),console.log(t)}catch(t){console.error("Error al obtener la carrera:",t)}try{const t=await d.get("http://127.0.0.1:3000/api/grado"),n=t.data;n&&n.length>0&&(h.value=n.map(p=>({label:p.grado,value:p.idgrado}))),console.log(t);const e=JSON.parse(localStorage.getItem("formData"));e&&(Object.assign(m.value,e),console.log(e));const D=JSON.parse(localStorage.getItem("formDataCarta"));D&&(Object.assign(f.value,D),console.log(D))}catch(t){console.error("Error al obtener la carrera:",t)}try{const t=await d.get("http://127.0.0.1:3000/api/genero"),n=t.data;n&&n.length>0&&(b.value=n.map(e=>({label:e.genero,value:e.idgenero}))),console.log(t)}catch(t){console.error("Error al obtener la carrera:",t)}try{const t=await d.get("http://127.0.0.1:3000/api/becas/all"),n=t.data;n&&n.length>0&&(C.value=n.map(e=>({label:e.beca,value:e.idbeca}))),console.log(t)}catch(t){console.error("Error al obtener la beca:",t)}}),{formData:m,formDataCarta:f,onSubmit:()=>{v.value==="Referencia"&&(m.value.beca=8),localStorage.setItem("formData",JSON.stringify(m.value)),d.post("http://127.0.0.1:3000/api/form",m.value).then(t=>{console.log("Datos enviados correctamente")}).catch(t=>{console.error("Error al enviar los datos:",t.response.data)}),localStorage.removeItem("formData"),localStorage.setItem("formDataCarta",JSON.stringify(f.value)),d.post("http://127.0.0.1:3000/api/form/carta",f.value).then(t=>{console.log("Datos enviados correctamente")}).catch(t=>{console.error("Error al enviar los datos:",t.response.data)}),localStorage.removeItem("formDataCarta"),i.push({path:"/alumno/referencia/paso3"})},beca:v,getCarreraContent:Q,getAreaContent:E,getGradoContent:N,getGeneroContent:R,carreras:u,getBecaContent:B,studentId:o}}},r=i=>(x("data-v-7fa9e1a4"),i=i(),J(),i),L={class:"q-pa-md"},z=r(()=>a("div",{class:"title"},"Beca Referencia",-1)),H={class:"q-gutter-md container"},K={class:"q-pt-lg"},W={class:"q-pa-md"},X=r(()=>a("p",{class:"q-mb-sm"},"Los datos de la solicitud a enviar son:",-1)),Y={class:"q-mb-sm"},Z=r(()=>a("strong",null,"Apellido Paterno:",-1)),$={class:"q-mb-sm"},aa=r(()=>a("strong",null,"Apellido Materno:",-1)),oa={class:"q-mb-sm"},ta=r(()=>a("strong",null,"Nombre:",-1)),ra={class:"q-mb-sm"},sa=r(()=>a("strong",null,"Matr\xEDcula:",-1)),na={class:"q-mb-sm"},ea=r(()=>a("strong",null,"CURP:",-1)),la={class:"q-mb-sm"},ca=r(()=>a("strong",null,"Tel\xE9fono:",-1)),ia={class:"q-mb-sm"},ma=r(()=>a("strong",null,"Correo Institucional:",-1)),da={class:"q-mb-sm"},_a=r(()=>a("strong",null,"Carrera:",-1)),fa={class:"q-mb-sm"},ua=r(()=>a("strong",null,"\xC1rea:",-1)),ga={class:"q-mb-sm"},ha=r(()=>a("strong",null,"Grado:",-1)),ba={class:"q-mb-sm"},va=r(()=>a("strong",null,"Cuatrimestre:",-1)),Da={class:"q-mb-sm"},Ca=r(()=>a("strong",null,"Grupo:",-1)),pa={class:"q-mb-sm"},qa=r(()=>a("strong",null,"Correo Tutor:",-1)),ya={class:"q-mb-sm"},Sa=r(()=>a("strong",null,"G\xE9nero:",-1)),Ia={class:"q-pa-md"},Qa=r(()=>a("p",{class:"q-mb-sm"},"Los datos del solicitante a enviar son:",-1)),Ea={class:"q-mb-sm"},Na=r(()=>a("strong",null,"Nombre:",-1)),Ra={class:"q-mb-sm"},Ba=r(()=>a("strong",null,"Matr\xEDcula:",-1)),Ga={class:"q-mb-sm"},Aa=r(()=>a("strong",null,"Domicilio:",-1)),wa={class:"q-mb-sm"},Ma=r(()=>a("strong",null,"Tel\xE9fono:",-1)),Oa={class:"q-mb-sm"},Ta=r(()=>a("strong",null,"Celular:",-1)),Va={class:"q-mb-sm"},xa=r(()=>a("strong",null,"Correo:",-1)),Ja={class:"q-mb-sm"},Pa=r(()=>a("strong",null,"Nacimiento:",-1)),ka={class:"q-mb-sm"},Fa=r(()=>a("strong",null,"Estado Civil:",-1)),Ua={class:"q-mb-sm"},ja=r(()=>a("strong",null,"G\xE9nero:",-1)),La={class:"q-mb-sm"},za=r(()=>a("strong",null,"Beca:",-1)),Ha={class:"q-mb-sm"},Ka=r(()=>a("strong",null,"Nivel de Estudios:",-1)),Wa={class:"q-mb-sm"},Xa=r(()=>a("strong",null,"Nombre de la Escuela:",-1)),Ya={class:"q-mb-sm"},Za=r(()=>a("strong",null,"Tipo de la Escuela:",-1)),$a={class:"q-mb-sm"},ao=r(()=>a("strong",null,"Municipio de la Escuela:",-1)),oo={class:"q-mb-sm"},to=r(()=>a("strong",null,"Promedio de la Escuela:",-1)),ro={class:"q-mb-sm"},so=r(()=>a("strong",null,"Carrera:",-1)),no={class:"q-mb-sm"},eo=r(()=>a("strong",null,"\xC1rea:",-1)),lo={class:"q-mb-sm"},co=r(()=>a("strong",null,"Cuatrimestre:",-1)),io={class:"q-mb-sm"},mo=r(()=>a("strong",null,"Ultimo promedio obtenido:",-1)),_o={class:"q-mb-sm"},fo=r(()=>a("strong",null,"Grupo:",-1)),uo={class:"q-mb-sm"},go=r(()=>a("strong",null,"Apoyo:",-1)),ho={class:"q-mb-sm"},bo=r(()=>a("strong",null,"Nombre del Apoyo:",-1)),vo={class:"q-mb-sm"},Do=r(()=>a("strong",null,"Cantidad del Apoyo:",-1)),Co={class:"q-mb-sm"},po=r(()=>a("strong",null,"Motivo:",-1));function qo(i,m,f,o,v,u){const g=S("button-progress"),h=S("dos-progreso-bar");return O(),T(U,null,{default:_(()=>[a("div",L,[z,l(g),l(h),a("div",H,[l(F,{onSubmit:o.onSubmit,onReset:i.onReset},{default:_(()=>[a("div",K,[l(k,{class:"q-pa-md"},{default:_(()=>[l(q,null,{default:_(()=>[l(G,{filled:"",modelValue:o.studentId,"onUpdate:modelValue":m[0]||(m[0]=b=>o.studentId=b),class:"col-5 q-pt-lg",hint:"Tu ID",dense:i.dense,disable:"",readonly:""},null,8,["modelValue","dense"]),l(A),a("div",W,[X,a("p",Y,[Z,I(" "+s(o.formData&&o.formData.apellidopat),1)]),a("p",$,[aa,I(" "+s(o.formData&&o.formData.apellidomat),1)]),a("div",oa,[ta,a("span",null,s(o.formData&&o.formData.nombre),1)]),a("div",ra,[sa,a("span",null,s(o.formData&&o.formData.matricula),1)]),a("div",na,[ea,a("span",null,s(o.formData&&o.formData.curp),1)]),a("div",la,[ca,a("span",null,s(o.formData&&o.formData.telefono),1)]),a("div",ia,[ma,a("span",null,s(o.formData&&o.formData.correoinstitucional),1)]),a("div",da,[_a,a("span",null,s(o.getCarreraContent(o.formData&&o.formData.carrera)),1)]),a("div",fa,[ua,a("span",null,s(o.getAreaContent(o.formData&&o.formData.area)),1)]),a("div",ga,[ha,a("span",null,s(o.getGradoContent(o.formData&&o.formData.grado)),1)]),a("div",ba,[va,a("span",null,s(o.formData&&o.formData.cuatrimestre),1)]),a("div",Da,[Ca,a("span",null,s(o.formData&&o.formData.grupo),1)]),a("div",pa,[qa,a("span",null,s(o.formData&&o.formData.correotutor),1)]),a("div",ya,[Sa,a("span",null,s(o.getGeneroContent(o.formData&&o.formData.genero)),1)])])]),_:1}),l(q,null,{default:_(()=>[a("div",Ia,[Qa,a("div",Ea,[Na,a("span",null,s(o.formDataCarta&&o.formDataCarta.nombre),1)]),a("div",Ra,[Ba,a("span",null,s(o.formDataCarta&&o.formDataCarta.matricula),1)]),a("div",Ga,[Aa,a("span",null,s(o.formDataCarta&&o.formDataCarta.domicilio),1)]),a("div",wa,[Ma,a("span",null,s(o.formDataCarta&&o.formDataCarta.telefono),1)]),a("div",Oa,[Ta,a("span",null,s(o.formDataCarta&&o.formDataCarta.celular),1)]),a("div",Va,[xa,a("span",null,s(o.formDataCarta&&o.formDataCarta.correoper),1)]),a("div",Ja,[Pa,a("span",null,s(o.formDataCarta&&o.formDataCarta.nacimiento),1)]),a("div",ka,[Fa,a("span",null,s(o.formDataCarta&&o.formDataCarta.estadocivil),1)]),a("div",Ua,[ja,a("span",null,s(o.getGeneroContent(o.formDataCarta&&o.formDataCarta.genero)),1)]),a("div",La,[za,a("span",null,s(o.getBecaContent(o.formDataCarta&&o.formDataCarta.beca)),1)]),a("div",Ha,[Ka,a("span",null,s(o.formDataCarta&&o.formDataCarta.nivelestudios),1)]),a("div",Wa,[Xa,a("span",null,s(o.formDataCarta&&o.formDataCarta.nombreescuela),1)]),a("div",Ya,[Za,a("span",null,s(o.formDataCarta&&o.formDataCarta.tipoescuela),1)]),a("div",$a,[ao,a("span",null,s(o.formDataCarta&&o.formDataCarta.municipio),1)]),a("div",oo,[to,a("span",null,s(o.formDataCarta&&o.formDataCarta.promedio),1)]),a("div",ro,[so,a("span",null,s(o.getCarreraContent(o.formDataCarta&&o.formDataCarta.carrera)),1)]),a("div",no,[eo,a("span",null,s(o.getAreaContent(o.formDataCarta&&o.formDataCarta.area)),1)]),a("div",lo,[co,a("span",null,s(o.formDataCarta&&o.formDataCarta.cuatrisoli),1)]),a("div",io,[mo,a("span",null,s(o.formDataCarta&&o.formDataCarta.promedioult),1)]),a("div",_o,[fo,a("span",null,s(o.formDataCarta&&o.formDataCarta.grupo),1)]),a("div",uo,[go,a("span",null,s(o.formDataCarta&&o.formDataCarta.apoyo),1)]),a("div",ho,[bo,a("span",null,s(o.formDataCarta&&o.formDataCarta.nombreapoyo),1)]),a("div",vo,[Do,a("span",null,s(o.formDataCarta&&o.formDataCarta.cuanto),1)]),a("div",Co,[po,a("span",null,s(o.formDataCarta&&o.formDataCarta.motivo),1)])])]),_:1}),l(P,{align:"right"},{default:_(()=>[l(V,{label:"Subir",type:"submit",color:"primary",class:"q-mb-md"})]),_:1})]),_:1})])]),_:1},8,["onSubmit","onReset"])])])]),_:1})}var xo=w(j,[["render",qo],["__scopeId","data-v-7fa9e1a4"]]);export{xo as default};
