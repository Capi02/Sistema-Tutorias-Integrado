import{Q as m}from"./QInput.ff8271ab.js";import{_ as f,j as _,k as v,u as g,r as l,aj as d,m as h,n as b,p as r,q as o,d as a,Y as y,Q as P}from"./index.a087d920.js";import{Q as c}from"./QCardSection.e191772e.js";import{Q}from"./QForm.365f5d92.js";import{api as S}from"./axios.a18f7222.js";import"./use-field.fd25eba3.js";import"./use-dark.b66c2986.js";import"./uid.42677368.js";import"./focus-manager.02955f48.js";import"./use-form.5d6a531f.js";import"./use-file-dom-props.d4990a04.js";import"./use-key-composition.ec24de95.js";import"./axios.7331a07d.js";const I=_({name:"IndexPage",components:{},setup(){const e=v(),t=g(),n=l(),i=l();function u(){console.log(n.value,i.value),S.post("http://127.0.0.1:3000/api/login",{correo:n.value,contrasena:i.value}).then(s=>{s.data.msg?alert(s.data.msg):(d.set("usuario",s.data),e.setUser(s.data),t.push({name:"index"}))}).catch(s=>console.error(s))}function p(){n.value="",i.value=""}return{isPwd:l(!0),correo:n,contrasena:i,userStore:e,router:t,onSubmit:u,onReset:p}},beforeMount(){d.getItem("usuario")&&(this.userStore.setUser(d.getItem("usuario")),this.router.push({name:"index"}))}}),V={class:"my-card"},w={class:"back"},q=o("p",{class:"bien"},"Bienvenido",-1),C={class:"q-pa-md"},k={class:"q-ps-xs"},B=o("p",null,"Correo",-1),R={class:"q-ps-xs"},U=o("p",null,"Contrase\xF1a",-1),$={class:""},x=o("p",{class:"texto"},"Iniciar Session",-1);function j(e,t,n,i,u,p){return h(),b(Q,{onSubmit:e.onSubmit,onReset:e.onReset,class:"q-gutter-md"},{default:r(()=>[o("div",V,[o("div",w,[q,a(c,null,{default:r(()=>[o("div",C,[a(c,{class:"rectanglei"},{default:r(()=>[o("div",k,[B,a(m,{class:"input",outlined:"",square:"",filled:"",modelValue:e.correo,"onUpdate:modelValue":t[0]||(t[0]=s=>e.correo=s),type:"email",dense:e.dense},null,8,["modelValue","dense"])]),o("div",R,[U,a(m,{modelValue:e.contrasena,"onUpdate:modelValue":t[2]||(t[2]=s=>e.contrasena=s),filled:"",type:e.isPwd?"password":"text"},{append:r(()=>[a(y,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[1]||(t[1]=s=>e.isPwd=!e.isPwd)},null,8,["name"])]),_:1},8,["modelValue","type"])]),o("div",$,[a(P,{class:"buttom",type:"submit"},{default:r(()=>[x]),_:1})])]),_:1})])]),_:1})])])]),_:1},8,["onSubmit","onReset"])}var O=f(I,[["render",j]]);export{O as default};
